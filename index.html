<!DOCTYPE html>
<html>
    <head>
        <title>Countdown to Finals</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h3>Affton High School proudly presents...</h3>
        <h2>Countdown to Finals</h2>
        <h2 id="whathour"></h2>
        <!-- Display the countdown timer in an element -->
        <h1 id="demo"></h1>
        <h2>#cougarpride</h2>
        <audio controls autoplay>
          <source src="hongkong.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
        </audio>
        <script>
            let dates = {}
            let datename = ''
            let date = ''
            function gettimefunction() {
                let dates = {
                    "1st Hour, Semester One": "Dec 20, 2023 8:25:00",
                    "3rd Hour, Semester One": "Dec 20, 2023 10:00:00",
                    "5th Hour, Semester One": "Dec 21, 2023 7:30:00",
                    "7th Hour, Semester One": "Dec 21, 2023 9:05:00"
                };
                for (let x in dates) {
                    let now = new Date().getTime();
                    let distance = new Date(dates[x]).getTime() - now;
                    console.log(distance)
                    if (Math.sign(distance) === 1) {
                        datename = x
                        date = dates[x]
                        console.log(date)
                        break
                    }
                }
                document.getElementById('whathour').innerText = datename
            }
            gettimefunction()
            // Set the date we're counting down to
            var countDownDate = new Date(date).getTime();

            // Update the countdown every 1 second
            var x = setInterval(function() {

                // Get today's date and time
                var now = new Date().getTime();

                // Find the distance between now and the countdown date
                var distance = countDownDate - now;

                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Display the result in the element with id="demo"
                document.getElementById("demo").innerHTML = days + "d " + hours + "h "
                    + minutes + "m " + seconds + "s ";

                // If the countdown is finished, write some text
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("demo").innerText = 'Reload to continue timer.'
                }
            }, 1000);

        </script>
    </body>
</html>
